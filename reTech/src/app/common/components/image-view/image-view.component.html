<div *ngIf="editable || photos?.length > 0" class="mt-3 position-relative">
  <div class="d-flex align-items-center justify-content-between mb-2">
    <h6 class="m-0">
      {{ 'Фотографии' | translate }}
    </h6>
  
    <button *ngIf="editable" class="btn btn-sm btn-outline-primary d-flex align-items-center gap-1" (click)="addPhoto()">
      <i class="fa-solid fa-plus"></i>
      {{ 'Add' | translate }}
    </button>
  </div>

  <div class="d-flex flex-wrap gap-2 gallery">
    <div *ngFor="let photo of photos.slice(); let i = index" class="gallery-item position-relative">
      <img
        [src]="photo"
        alt="product photo"
        class="rounded border gallery-img"
        width="100"
        height="100"
        (click)="openPhoto(i + 1)"
      />

      <!-- Иконка удаления -->
      <button class="delete-btn"
        (click)="removePhoto(i + 1, $event)"
        *ngIf="editable">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
  </div>
</div>

<!-- Модалка просмотра -->
<div *ngIf="selectedIndex !== null" class="modal-backdrop">
  <button class="nav-btn left" (click)="prevPhoto($event)">&#10094;</button>
  <img [src]="photos[selectedIndex!]" alt="selected" class="modal-image" />
  <button class="nav-btn right" (click)="nextPhoto($event)">&#10095;</button>
  <button class="close-btn" (click)="closePhoto()">×</button>
</div>
